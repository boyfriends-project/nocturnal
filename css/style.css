/*==================================================
  SolarJewel 共通スタイルシート – v1.5 (2025‑07‑11)
  --------------------------------------------------
  - 古い .form-section 定義を完全に削除して重複を解消
  - タイトル下余白をさらに詰め (.4rem→.2rem)
  - 画像サイズ／メディアクエリは v1.4 のまま維持
==================================================*/

/* ---------- カラーパレット ---------- */
:root {
  --clr-bg:       #f8f7fb;  /* 背景：ほんのり藤色の白 */
  --clr-primary:  #8b5cf6;  /* メイン：ラベンダー寄り紫 */
  --clr-primary-dark: #6d28d9; /* 濃い紫：深みを足して引き締め */
  --clr-accent:   #e0aaff;  /* アクセント：淡いライラックピンク */
  --clr-text:     #4b3f72;  /* テキスト：やや落ち着いた紫がかった紺 */
  --clr-muted:    #9a8fbf;  /* 補助文字：淡いグレイッシュパープル */
  --clr-soft:     #ddd6fe;  /* 柔らか背景：藤色寄りの薄紫 */
  --radius-lg:20px; 
  --radius-sm:8px;
}

/* ---------- リセット & ベース ---------- */
*{box-sizing:border-box;
margin:0;padding:0;
}
html{scroll-behavior:smooth;
font-size:clamp(14px,2.5vw,17px);
} 

body {
  background: var(--clr-soft);
  color: var(--clr-text);
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
               "Helvetica Neue", Arial, "Noto Sans JP", "Yu Gothic", "Helvetica", sans-serif;
  font-size: 16px;
  line-height: 1.7;
  letter-spacing: 0.03em;
  -webkit-font-smoothing: antialiased;
}

/* 直下要素を横幅100%にして中央寄せ解除 */
body>header,body>section{
width:100%;
}

img{
display:block;
max-width:100%;
height:auto;
}

/* ---------- 背景コンテナ ---------- */
.container{max-width:1200px;margin-inline:auto;padding-inline:clamp(1rem,5vw,2rem);}

/* ---------- タイトルロゴ ---------- */
.title-section {
  text-align: center;
  padding: 0 1rem;
  margin-bottom: clamp(.2rem, 1.5vw, .6rem);

  /* これが効いてこそ画像が大きくなりすぎない */
  max-width: 700px;      /* ← お好みで 900〜1200 に調整 */
  margin-inline: auto;    /* 画面中央に配置 */
}

.title-section img {
  /* 親(max-width:1000px) の幅いっぱいで可変 */
  width: 100%;
  height: auto;
  display: block;
}

/* ---------- 入力フォーム ---------- */
.form-section{
  display:flex;flex-direction:column;align-items:center;
  gap:1.2rem; /* 入力欄とボタンの間隔 */
  margin-bottom:clamp(2rem,6vw,3rem);
}

/* ここが入力欄 */
.form-section input[type="date"]{
padding:.55rem 1rem;
border:1px solid var(--clr-muted);
border-radius:var(--radius-sm);
min-width:240px;
max-width:260px;
font-size:1rem;
}

/* ここがボタン */
.form-section button{
background: var(--clr-primary);
  color: white;
  padding: 0.6rem 2.2rem;
  border-radius: 50px;
  border: 2px solid #d4af37; /* 金色の縁 */
  box-shadow: inset 0 0 4px rgba(255, 255, 255, 0.5),
              0 2px 6px rgba(0, 0, 0, 0.1); /* 内側光＋影で立体感 */
  font-weight: 700;
  cursor: pointer;
  transition: all 0.25s ease;
}
.form-section button:hover{
background: var(--clr-primary-dark);
  border-color: #e6c65f; /* ホバー時に少し明るい金 */
  box-shadow: inset 0 0 6px rgba(255, 255, 255, 0.6),
              0 3px 8px rgba(0, 0, 0, 0.15);
}

/* ---------- 結果パネル ---------- */
.hidden{
display:none!important;
}
.result-panel{
background:#fff5;
border:1px solid #ddd;
border-radius:var(--radius-lg);
backdrop-filter:blur(8px);
padding:clamp(1.5rem,6vw,3rem) clamp(1rem,4vw,2rem);
margin-bottom:clamp(2rem,8vw,4rem);
max-width: 1100px;
} 

.result-panel h2{
font-size:1.5rem;
font-weight:700;
margin-bottom:1rem;
text-align:center;
color:var(--clr-text);
} 

.catchcopy{
color:var(--clr-accent);
font-weight:700;
font-size: clamp(1rem, 2.8vw, 1.2rem); /* ← 自動縮小に変更！ */
letter-spacing: 0.3px;
text-align:center;
margin-bottom:2rem;
max-width: 90%;
margin: 0 auto 0.8em auto;
white-space: normal;        /* ← 改行OKに！ */
word-break: break-word;     /* ← 日本語の途中でも折り返しOKに！ */
}

/* ---------- 画像＋テキスト親コンテナ ---------- */
.result-body{
  display:flex;
  flex-direction:column;   /* スマホ＝縦並び */
  align-items:center;
  gap: 0;
  justify-content:center;
}
/* ---------- 画像ブロック ---------- */
.result-images {
  display: flex;
  gap: 1rem;                /* 画像間の余白 */
  flex-wrap: nowrap;        /* 横並び固定（折返しなし） */
  justify-content: center;
  width: 100%;              /* 親幅いっぱいに */
  max-width: 700px;        /* 診断結果と同じ上限幅に */
  margin-bottom: 1.5rem;   /* ここで余白を追加 */
}

/* 画像サイズを親幅に合わせて半分ずつ */
.result-images img {
  flex: 1 1 50%;
  max-width: calc(50% - 0.5rem);  /* gapぶん引く */
  height: auto;
  object-fit: contain;     /* 比率を維持して収める */
}
/* ---------- テキストブロック ---------- */
.result-texts {
  flex: 1 1 1100px;  /* 基準幅を1100pxに設定 */
  max-width: 1100px; /* 幅を1100pxで固定 */
  text-align: left;
}
/* 段落間隔 */
.result-texts p{margin-bottom:1.2rem;}

/* 見出しの色と装飾 */
.result-texts .heading{
  color:var(--clr-primary);
  font-weight:600;
  border-bottom:2px solid var(--clr-primary);
  display:inline-block;
  margin-bottom:.6rem;
}

/* ========== メディアクエリ ========== */
/* 既にある PC 用メディアクエリに追記 (min-width:1024px 以降) */
@media (min-width:1024px){
  .result-texts{
   max-width:1100px;    /* 好きな値／none に */
  }
}

/* 幅揃えだけ欲しい場合 */
@media (min-width:768px){
  .result-panel,
  .result-body{max-width:1100px;margin:0 auto;}
}

/* スマホ用調整 */
@media (max-width:480px){
  .result-images img{width:clamp(110px,45vw,140px);}
  .result-texts p{font-size:.9rem;}
}

@media(min-width:800px){
  html{font-size:16px;} 
  .result-images img{width:180px;}
}

@media(max-width:480px){
  .result-texts p{font-size:.9rem;}
  .form-section input[type="date"]{min-width:200px;}
  .result-images img{width:clamp(110px,45vw,140px);} 
  }

@media(max-width:360px){
 .tone-main {
	font-size: 1rem;}
 .catchcopy {
    	font-size: 1rem;}
}

/* 推奨環境フッター */
.env-note{
  color:#6b7280;      /* 既存パレットの muted (#6b7280) */
  font-size:.8rem;    /* 小さめ */
  text-align:center;
  margin-bottom:1rem; /* 余白（お好みで） */
}

/* --------- “音” のタイトル行 --------- */
.tone-title{
  font-size: 1.2rem;          /* 好みで調整 (.9rem〜1.4rem くらい) */
  font-weight: 700;
  text-align: center;
  color: var(--clr-primary);  /* 既存のパープルを流用 */
  margin-bottom: .6rem;       /* 下に少し余白 */
}

/* --- シェアボタン等を並べる箱 ------------------------------------ */
.share-box{
  display:flex;
  flex-wrap:wrap;           /* スマホで折り返す */
  justify-content:center;
  gap:1rem;                 /* ボタン間のすき間 */
  margin:2rem 0;
}

/* --- ボタン共通デザイン ---------------------------------- */
.share-btn{
  flex:1 1 140px;           /* 140px を基準に伸び縮み */
  max-width:180px;          /* PC で伸び過ぎない */
  text-align:center;

  padding:.55rem 1rem;
  background:#c4a3ff;       /* パープル */
  color:#fff;
  border:none;
  border-radius:10px;       /* 角の丸み */
  font-weight:600;
  text-decoration:none;     /* ← 下線を消す */
  line-height:1.2;
  cursor:pointer;
  transition:background .2s;
}
.share-btn:hover{ background:#b292ff; }

/* --- スマホ：2列×2段で見やすく --------------------------- */
@media(max-width:480px){
  .share-btn{ flex:1 0 calc(50% - .8rem); } /* 50% 幅-gap */
}

/* --- 鑑定結果 --------------------------- */
.tone-lead {
  font-size: clamp(1rem, 2vw, 1.2rem); /* 少し小さめ */
  color: var(--clr-text);
  text-align: center;
  margin-bottom: 1rem;
}

.tone-main {
	font-size: clamp(1rem, 2vw, 1.2rem); /* 少し小さめ */
	white-space: nowrap;
	color: var(--clr-primary);
	font-weight: 600;
	text-align: center;
	max-width: 95%;
	margin: 0 auto;
	word-break: keep-all;
	}

/* --- あなたの本質を表すジュエル等 --------------------------- */
.jewel {
  font-family: 'Zen Kaku Gothic New', sans-serif;
  text-align: center;
  font-size: 1.1rem;
  font-style: italic;
}

/* --- 新設セクション --------------------------- */
.result-section {
  background-color: #f8f7fb;
  border: 28px solid transparent; /* 枠の太さ：角の模様を潰さないギリギリ */
  border-image-source: url('../images/lace_border.png');
  border-image-slice: 160; /* 角装飾をしっかり残す */
  border-image-repeat: round;
  border-radius: 0; /* 角丸なし */
  padding: 0.8rem 1rem; /* 内側余白を軽く詰める */
  margin-bottom: 2rem;
  width: 100%;
  max-width: 1100px;
  margin-left: auto;
  margin-right: auto;
}
.result-section.alt {
  background-color: #f8f7fb;
}

/* --- 余白・行間・最大幅 --------------------------- */
.desc {
  line-height: 1.8;
  max-width: none;
  margin-bottom: 1.5rem;
  color: #333;
  font-size: 1rem;
}

/* --- Tone音楽 --------------------------- */

.tone-inline-player {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.4rem;
  font-size: 0.95rem;
  color: #5a3fc8;
  font-family: "Zen Maru Gothic", sans-serif;
  margin-top: 0.8rem;
  margin-bottom: 0.8rem;
  flex-wrap: wrap; /* ←これでスマホでも折り返しOK */
}

.music-label {
  max-width: 100%;
  word-break: break-word;
  font-weight: 500;
}

.inline-icon {
  width: 26px;
  height: 26px;
  opacity: 0.8;
}

.inline-play {
  max-width: 100%;
  word-break: break-word;
  background: none;
  border: none;
  color: #5a3fc8;
  font-weight: 600;
  font-size: 0.95rem;
  cursor: pointer;
  padding: 0;
}
.inline-play:hover {
  text-decoration: underline;
}

.input-group {
  display: flex;
  align-items: center;
  gap: 0.5rem; /* 入力欄とボタンの隙間 */
  justify-content: center;
  margin-top: 0.5rem;
}

.input-group input[type="date"] {
  padding: 0.4rem 0.8rem;
  font-size: 1rem;
  border-radius: 999px;
  border: 1px solid #ccc;
  font-family: "Zen Maru Gothic", sans-serif;
}

/* --- 生年月日入力 --------------------------- */
.input-group button {
 background: var(--clr-primary);
  color: white;
  padding: 0.6rem 2.2rem;
  border-radius: 50px;
  border: 2px solid #d4af37; /* 金色の縁 */
  box-shadow: inset 0 0 4px rgba(255, 255, 255, 0.5),
              0 2px 6px rgba(0, 0, 0, 0.1); /* 内側光＋影で立体感 */
  font-weight: 700;
  cursor: pointer;
  transition: all 0.25s ease;
}

.input-group button:hover {
 background: var(--clr-primary-dark);
  border-color: #e6c65f; /* ホバー時に少し明るい金 */
  box-shadow: inset 0 0 6px rgba(255, 255, 255, 0.6),
              0 3px 8px rgba(0, 0, 0, 0.15);
}

/* --- ヒーロー --------------------------- */

.hero-img {
  display: block;
  margin: 0 auto;
  width: 100%;
  max-width: 1100px; /* 画像の実サイズや好みに応じて調整 */
  height: auto;
}

.hero-inner { 
 max-width: 420px; 
 margin-inline: auto; 
 text-align: center;
}

/* --- ｈ1非表示 --------------------------- */
.visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  margin: -1px;
  overflow: hidden;
  clip: rect(0 0 0 0);
  white-space: nowrap;
  border: 0;
}


/* --- 音楽再生の見た目の調整 --------------------------- */
#tonePlayerBox {
  background-color: #fffefc;
  border-radius: var(--radius-lg);
  padding: 1.5rem 1.2rem;
  margin-bottom: 2rem;
  box-shadow: 0 4px 8px rgba(0,0,0,0.05);
}

#tonePlayer {
  width: 100%;
  max-width: 360px;
  display: block;
  margin: 0 auto;
}

/* --- 診断するボタン横並び --------------------------- */
.input-group {
  display: flex;
  align-items: center;
  gap: 0.5rem; /* 入力欄とボタンの隙間 */
  justify-content: center;
  margin-top: 0.5rem;
}

.input-group input[type="date"] {
  padding: 0.4rem 0.8rem;
  font-size: 1rem;
  border-radius: 999px;
  border: 1px solid #ccc;
  font-family: "Zen Maru Gothic", sans-serif;
}


/* --- 心の音一覧ページ --------------------------- */
.tone-list {
  max-width: 720px;
  margin: 2rem auto;
  padding: 1rem;
}

.tone-item {
  margin-bottom: 2rem;
  padding: 1rem;
  background-color: #f9f5ff;
  border-radius: 8px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.05);
}

.tone-item h2 {
  margin-bottom: 0.5rem;
  color: #8000d6;
  font-size: 1.1rem;
}

/* --- TOPに戻るボタン --------------------------- */
.back-to-top {
  text-align: center;
  margin-bottom: 2rem;
}

.back-btn {
  background: var(--clr-primary);
  color: white;
  padding: 0.6rem 2.2rem;
  border-radius: 50px;
  border: 2px solid #d4af37; /* 金色の縁 */
  box-shadow: inset 0 0 4px rgba(255, 255, 255, 0.5),
              0 2px 6px rgba(0, 0, 0, 0.1); /* 内側光＋影で立体感 */
  font-weight: 700;
  cursor: pointer;
  transition: all 0.25s ease;
}

.back-btn:hover {
 background: var(--clr-primary-dark);
  border-color: #e6c65f; /* ホバー時に少し明るい金 */
  box-shadow: inset 0 0 6px rgba(255, 255, 255, 0.6),
              0 3px 8px rgba(0, 0, 0, 0.15);
}

/* ====== 法的ページ共通デザイン（プライバシー・免責・運営者・特商法） ====== */

.legal-page {
  background: var(--clr-soft);
  color: var(--clr-text);
  font-family: 'Zen Kaku Gothic New', sans-serif;
  font-size: 16px;
  line-height: 1.8;
  padding: 2rem 1rem;
}

.legal-page h2 {
  font-size: 1.6rem;
  color: var(--clr-primary);
  text-align: center;
  margin-bottom: 1.5rem;
}

.legal-page p {
  background: #fff;
  padding: 1.2rem 1.2rem;
  border-radius: var(--radius-lg);
  margin-bottom: 1.2rem;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
  max-width: 800px;
  margin-inline: auto;
}

.legal-page p strong {
  color: var(--clr-accent);
  display: inline-block;
  min-width: 10rem;
}

.legal-page a {
  color: var(--clr-primary);
  text-decoration: underline;
}
.legal-page a:hover {
  color: var(--clr-primary-dark);
}

.legal-page .back-to-top {
  text-align: center;
  margin-top: 3rem;
  margin-bottom: 2rem;
}

.legal-page .back-to-top a {
  display: inline-block;
  background-color: var(--clr-primary);
  color: white;
  padding: 0.6rem 1.5rem;
  border-radius: var(--radius-sm);
  font-weight: bold;
  text-decoration: none;
  transition: background 0.3s ease;
}
.legal-page .back-to-top a:hover {
  background-color: var(--clr-primary-dark);
}

/* ====== BF メッセージ – 共通 ====== */
.bf-row{
  display:flex;
  align-items:center;
  gap:1.6rem;            /* 画像と文字のすき間を広めに */
}

.bf-voice-img{
  flex:0 0 160px;        /* 左側に‶幅固定‶で配置 */
  width:160px;
  height:160px;
  border-radius:50%;
  object-fit:cover;
  border:none;
}

.bf-line-text{
  flex:1 1 auto;         /* 残りの幅いっぱいにテキスト */
  font-size:1rem;
  line-height:1.6;
  color:var(--clr-text);
  text-align:left;       /* 左寄せ */
  max-width:100%;
}

/* ====== タブレット（481–991px） ====== */
@media (max-width:991px){
  .bf-voice-img{
    flex-basis:140px;
    width:140px;
    height:140px;
  }
  .bf-line-text{font-size:0.95rem;}
}

/* ====== スマホ（〜480px） ====== */
@media (max-width:480px){
  .bf-row{
    flex-direction:column;   /* 画像→テキストを縦並び */
    align-items:center;
    text-align:center;       /* 中央寄せに変更 */
    gap:1rem;
  }
  .bf-voice-img{
    flex:none;
    width:100px;
    height:100px;
    margin-bottom:0.6rem;
  }
  .bf-line-text{
    font-size:0.9rem;
    max-width:90%;          /* 画面端と少し余白 */
  }
}

/* ====== アコーディオン ====== */
.accordion-header {
  background: linear-gradient(to right, #fdfaff, #e0aaff); /* 宝石風グラデーション */
  border: 2px solid #d4af37; /* 金縁 */
  border-radius: 8px;
  padding: 0.6rem 2rem 0.6rem 1rem;
  font-weight: bold;
  color: var(--clr-text);
  cursor: pointer;
  margin-bottom: 0.4rem;
  text-align: left;
  position: relative; /* アイコン位置指定用 */
}
.accordion-header::after {
  content: "+"; /* 閉じているときのアイコン */
  position: absolute;
  right: 0.8rem;
  font-size: 1.2rem;
  color: var(--clr-text);
  transition: transform 0.3s ease;
}

.accordion-header.active {
  background: linear-gradient(to right, #e0aaff, #fdfaff);
}
.accordion-header.active::after {
  content: "−"; /* 開いているときのアイコン */
}

.accordion-content {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.4s ease;
  background-color: #fffafc;
  border-left: 2px solid #d4af37;
  border-right: 2px solid #d4af37;
  border-bottom: 2px solid #d4af37;
  margin-bottom: 0.6rem;
  padding: 0 1rem;
  transition: max-height .3s ease;
}
.accordion-content.show {
  padding: 0.6rem 1rem;
}

/* キャラ台詞ブロックの下の余白だけ詰める */
#bfMessage.result-section {
  margin-bottom: 0;   /* ← 2rem → 0.8rem など好みで */
  padding-bottom: 0;  /* 角飾りを保ちつつ少し詰めたい場合 */
}

#solarNumber { margin-top: 0; }

/* LINE特典バナー */
.promoBanner{
  display:block;
  width:100%;
  /* スマホ：横幅いっぱい / PC：下のメディアクエリで縮小 */
  max-width: min(1100px, 92vw);
  margin:16px auto 24px;
  text-decoration:none;
  /* 余計なカード背景を消す（これが影の原因） */
  background: transparent;
  border-radius: 0;
  overflow: visible;
  box-shadow: none;
}

/* 画像に角丸と影を持たせる */
.promoBanner picture,
.promoBanner img{
  display:block;
  width:100%;
  height:auto;
  border-radius:14px;
  box-shadow: 0 6px 20px rgba(0,0,0,.12);
}

/* アクセシビリティ：フォーカス可視化 */
.promoBanner:focus-visible{
  outline: 3px solid var(--ring);
  outline-offset: 4px;
  border-radius:16px;
}

/* PCではバナー全体を約“半分サイズ”にする */
@media (min-width: 900px){
  .promoBanner{
    /* だいたい半分の見え方。好みに応じて調整（520〜600px程度） */
    max-width: 560px;
  }
}
